var e={151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t},bytesToString:function(e){for(var t=[],i=0;i<e.length;i++)t.push(String.fromCharCode(e[i]));return t.join("")}}};e.exports=t},939:e=>{var t,i;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],i=0,o=0;i<e.length;i++,o+=8)t[o>>>5]|=e[i]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],i=0;i<32*e.length;i+=8)t.push(e[i>>>5]>>>24-i%32&255);return t},bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},bytesToBase64:function(e){for(var i=[],o=0;o<e.length;o+=3)for(var n=e[o]<<16|e[o+1]<<8|e[o+2],r=0;r<4;r++)8*o+6*r<=8*e.length?i.push(t.charAt(n>>>6*(3-r)&63)):i.push("=");return i.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],o=0,n=0;o<e.length;n=++o%4)0!=n&&i.push((t.indexOf(e.charAt(o-1))&Math.pow(2,-2*n+8)-1)<<2*n|t.indexOf(e.charAt(o))>>>6-2*n);return i}},e.exports=i},206:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},503:(e,t,i)=>{var o,n,r,s,a;o=i(939),n=i(151).utf8,r=i(206),s=i(151).bin,a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):n.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=o.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,p=-1732584194,h=271733878,m=0;m<i.length;m++)i[m]=16711935&(i[m]<<8|i[m]>>>24)|4278255360&(i[m]<<24|i[m]>>>8);i[l>>>5]|=128<<l%32,i[14+(l+64>>>9<<4)]=l;var u=a._ff,g=a._gg,f=a._hh,b=a._ii;for(m=0;m<i.length;m+=16){var y=c,v=d,w=p,S=h;c=u(c,d,p,h,i[m+0],7,-680876936),h=u(h,c,d,p,i[m+1],12,-389564586),p=u(p,h,c,d,i[m+2],17,606105819),d=u(d,p,h,c,i[m+3],22,-1044525330),c=u(c,d,p,h,i[m+4],7,-176418897),h=u(h,c,d,p,i[m+5],12,1200080426),p=u(p,h,c,d,i[m+6],17,-1473231341),d=u(d,p,h,c,i[m+7],22,-45705983),c=u(c,d,p,h,i[m+8],7,1770035416),h=u(h,c,d,p,i[m+9],12,-1958414417),p=u(p,h,c,d,i[m+10],17,-42063),d=u(d,p,h,c,i[m+11],22,-1990404162),c=u(c,d,p,h,i[m+12],7,1804603682),h=u(h,c,d,p,i[m+13],12,-40341101),p=u(p,h,c,d,i[m+14],17,-1502002290),c=g(c,d=u(d,p,h,c,i[m+15],22,1236535329),p,h,i[m+1],5,-165796510),h=g(h,c,d,p,i[m+6],9,-1069501632),p=g(p,h,c,d,i[m+11],14,643717713),d=g(d,p,h,c,i[m+0],20,-373897302),c=g(c,d,p,h,i[m+5],5,-701558691),h=g(h,c,d,p,i[m+10],9,38016083),p=g(p,h,c,d,i[m+15],14,-660478335),d=g(d,p,h,c,i[m+4],20,-405537848),c=g(c,d,p,h,i[m+9],5,568446438),h=g(h,c,d,p,i[m+14],9,-1019803690),p=g(p,h,c,d,i[m+3],14,-187363961),d=g(d,p,h,c,i[m+8],20,1163531501),c=g(c,d,p,h,i[m+13],5,-1444681467),h=g(h,c,d,p,i[m+2],9,-51403784),p=g(p,h,c,d,i[m+7],14,1735328473),c=f(c,d=g(d,p,h,c,i[m+12],20,-1926607734),p,h,i[m+5],4,-378558),h=f(h,c,d,p,i[m+8],11,-2022574463),p=f(p,h,c,d,i[m+11],16,1839030562),d=f(d,p,h,c,i[m+14],23,-35309556),c=f(c,d,p,h,i[m+1],4,-1530992060),h=f(h,c,d,p,i[m+4],11,1272893353),p=f(p,h,c,d,i[m+7],16,-155497632),d=f(d,p,h,c,i[m+10],23,-1094730640),c=f(c,d,p,h,i[m+13],4,681279174),h=f(h,c,d,p,i[m+0],11,-358537222),p=f(p,h,c,d,i[m+3],16,-722521979),d=f(d,p,h,c,i[m+6],23,76029189),c=f(c,d,p,h,i[m+9],4,-640364487),h=f(h,c,d,p,i[m+12],11,-421815835),p=f(p,h,c,d,i[m+15],16,530742520),c=b(c,d=f(d,p,h,c,i[m+2],23,-995338651),p,h,i[m+0],6,-198630844),h=b(h,c,d,p,i[m+7],10,1126891415),p=b(p,h,c,d,i[m+14],15,-1416354905),d=b(d,p,h,c,i[m+5],21,-57434055),c=b(c,d,p,h,i[m+12],6,1700485571),h=b(h,c,d,p,i[m+3],10,-1894986606),p=b(p,h,c,d,i[m+10],15,-1051523),d=b(d,p,h,c,i[m+1],21,-2054922799),c=b(c,d,p,h,i[m+8],6,1873313359),h=b(h,c,d,p,i[m+15],10,-30611744),p=b(p,h,c,d,i[m+6],15,-1560198380),d=b(d,p,h,c,i[m+13],21,1309151649),c=b(c,d,p,h,i[m+4],6,-145523070),h=b(h,c,d,p,i[m+11],10,-1120210379),p=b(p,h,c,d,i[m+2],15,718787259),d=b(d,p,h,c,i[m+9],21,-343485551),c=c+y>>>0,d=d+v>>>0,p=p+w>>>0,h=h+S>>>0}return o.endian([c,d,p,h])},a._ff=function(e,t,i,o,n,r,s){var a=e+(t&i|~t&o)+(n>>>0)+s;return(a<<r|a>>>32-r)+t},a._gg=function(e,t,i,o,n,r,s){var a=e+(t&o|i&~o)+(n>>>0)+s;return(a<<r|a>>>32-r)+t},a._hh=function(e,t,i,o,n,r,s){var a=e+(t^i^o)+(n>>>0)+s;return(a<<r|a>>>32-r)+t},a._ii=function(e,t,i,o,n,r,s){var a=e+(i^(t|~o))+(n>>>0)+s;return(a<<r|a>>>32-r)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var i=o.wordsToBytes(a(e,t));return t&&t.asBytes?i:t&&t.asString?s.bytesToString(i):o.bytesToHex(i)}},646:(e,t,i)=>{var o=i(139),n=i(805);e.exports={validateLicense:o,createLicense:n}},629:(e,t,i)=>{const o=i(503),n=i(303),r=i(884),s=i(748);e.exports=class{constructor({info:e,prodCode:t,appVersion:i="1.0",osType:o}={}){if(!e||"object"!=typeof e)throw r("WINFO_MISSING");if(!t)throw r("WPRODCODE_MISSING");this._info=e,this._prodCode=t,this._appVersion=i,this._osType=s[o],this.id,this.serial,this.updateSerial()}set info(e){e&&(this._info=e,updateSerial())}set prodCode(e){e&&(this._prodCode=e,updateSerial())}set appVersion(e){e&&(this._appVersion=e,updateSerial())}set osType(e){e&&(this._osType=e,updateSerial())}updateSerial(){this.id=l(this._info,this._prodCode,this._appVersion,this._osType),this.serial=a(this.id,this._info)}getSerial(){return this.serial}};let a=e=>c(e),l=(e,t,i,n)=>{let r=[];Object.keys(e).forEach((t=>{const i=e[t];r.push(i)}));let s=r.join();const a=new RegExp("[^0-9a-zA-Z]+","g"),l=(e=s.replace(a,"")).toUpperCase(),c=new RegExp("\\.+","g"),d=i.replace(c,""),h=p(n);return o(l+t+d+h).toUpperCase()},c=e=>{var t=n.encryptString(e).toString();return d(t,5)},d=(e,t)=>{const i=new RegExp(".{1,"+t+"}","g");let o=e.match(i);return o.length>6&&o.pop(),o.join("-").toUpperCase()},p=e=>{var t="";e&&(t=(e.os+e.type+e.version).replace(".","").replace("-","").toUpperCase());return t}},805:(e,t,i)=>{const o=i(629),n=i(884);e.exports=e=>{try{const t=new o(e);let i=n();return i.license=t.getSerial(),i}catch(e){throw e}}},303:(e,t,i)=>{const o=i(884);e.exports={encryptString:(e,t="1230A6701B12cc39")=>{if(!e)throw o("ENCRYPT_ERROR");if(""===t)throw o("ENCRYPT_ERROR");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.split("");let r="",s=0;return e.split("").forEach((e=>{const o=n.indexOf(e)+1,a=t.charAt(s),l=n.indexOf(a)+1,c=(o+l)%62-1;o>-1&&l>-1&&c>-1&&(r+=i.charAt(c)),s++})),r},decryptString:(e,t="1230A6701B12cc39")=>{if(!e)throw o("DECRYPT_ERROR");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.split("");let r="",s=0;return e.split("").forEach((e=>{const o=n.indexOf(e)+1,a=t.charAt(s),l=n.indexOf(a)+1,c=(62+o-l)%62-1;o>-1&&l>-1&&c>-1&&(r+=i.charAt(c)),s++})),r}}},884:e=>{e.exports=(e=0)=>{var t,i=0;if(e){i={OK:0,WINFO_MISSING:1e3,WPRODCODE_MISSING:1002,WNOT_STRING:1004,NOT_VALID:1006,WLICENSE_FAILED:1008,WUNKNOWN:1010,ENCRYPT_ERROR:1012,DECRYPT_ERROR:1014}[e]}var o={errorCode:i,message:""};switch(i){case 0:t="ok";break;case 1e3:t="user info missing";break;case 1002:t="product code missing";break;case 1004:t="license must be a string";break;case 1006:t="license not valid";break;case 1008:t="no encryption key provided";break;case 1010:t="license generation failed";break;case 1012:t="encryption error";break;case 1014:t="decryption error";break;default:t="no idea"}return o.message=t,o}},748:e=>{e.exports={WIN:{os:"Windows",version:"1.0",type:"desktop"},WIN7:{os:"Windows 7",version:"7.0",type:"desktop"},WIN8:{os:"Windows 8",version:"8.0",type:"desktop"},WIN10:{os:"Windows 10",version:"10.0",type:"desktop"},OSX:{os:"Macintosh",version:"1.0",type:"desktop"},OSX1:{os:"Cheetah/Puma",version:"1.0",type:"desktop"},OSX2:{os:"Jaguar",version:"2.0",type:"desktop"},OSX3:{os:"Panther",version:"3.0",type:"desktop"},OSX4:{os:"Tiger",version:"4.0",type:"desktop"},OSX5:{os:"Leopard",version:"5.0",type:"desktop"},OSX6:{os:"Snow Leopard",version:"6.0",type:"desktop"},OSX7:{os:"Lion",version:"7.0",type:"desktop"},OSX8:{os:"Mountain Lion",version:"8.0",type:"desktop"},OSX9:{os:"Mavericks",version:"9.0",type:"desktop"},OSX10:{os:"Yosemite",version:"10.0",type:"desktop"},OSX11:{os:"El Capitan",version:"11.0",type:"desktop"},OSX12:{os:"Sierra",version:"12.0",type:"desktop"},IOS:{os:"ios",version:"1.0",type:"mobile"},IOS5:{os:"ios-5",version:"5.0",type:"mobile"},IOS6:{os:"ios-6",version:"6.0",type:"mobile"},IOS7:{os:"ios-7",version:"7.0",type:"mobile"},IOS8:{os:"ios-8",version:"8.0",type:"mobile"},IOS9:{os:"ios-9",version:"9.0",type:"mobile"},IOS10:{os:"ios-10",version:"10.0",type:"mobile"},ANDROID:{os:"Android",version:"1.0",type:"mobile"},ANDROID2:{os:"Gingerbread",version:"2.0",type:"mobile"},ANDROID3:{os:"Honeycomb",version:"3.0",type:"mobile"},ANDROID4:{os:"Ice Cream Sandwich",version:"4.0",type:"mobile"},ANDROID43:{os:"Jelly Bean",version:"4.3",type:"mobile"},ANDROID44:{os:"KitKat",version:"4.4",type:"mobile"},ANDROID5:{os:"Lollipop",version:"5.0",type:"mobile"},ANDROID6:{os:"Marshmallow",version:"6.0",type:"mobile"},ANDROID7:{os:"Nougat",version:"7.0",type:"mobile"},OTHER:{os:"unknown mobile os",version:"1.0",type:"unknown"}}},139:(e,t,i)=>{const o=i(629),n=i(884);e.exports=(e,t)=>{if(!e)throw n("WINFO_MISSING");if(!t)throw n("WNOT_STRING");try{if(new o(e).serial===t)return n();throw n("NOT_VALID")}catch(e){throw e}}}},t={};function i(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};i.d(o,{C3:()=>l,bQ:()=>c,PP:()=>s,ur:()=>n,E0:()=>d,WP:()=>a,H6:()=>V,kr:()=>L,wr:()=>r,Ay:()=>V});class n{static isObject(e){return"object"==typeof e&&null!==e}static isPlainObject(e){return e&&"Object"===e.constructor.name}static getOriginalName(e){return e+"_original"}static merge(e,t,i={overwrite:!1,clone:!1,overwriteBackup:!1}){return!i.clone&&e||(e={...e}),t||(t={...t}),Object.keys(t).forEach((o=>{var n=t[o];if(n&&"object"==typeof n)e[o]=this.merge(e[o],n,i);else{if(o in e){if(!i.overwrite)return;i.overwriteBackup&&(e[this.getOriginalName(o)]=e[o])}e[o]=n}})),e}static apply(e,t,i={overwrite:!1,clone:!1,overwriteBackup:!1}){return!i.clone&&e||(e={...e}),t||(t={...t}),Object.keys(t).forEach((o=>{var n=t[o];if(o in e){if(!i.overwrite)return;i.overwriteBackup&&(e[this.getOriginalName(o)]=e[o])}e[o]=n})),e}static override(e,t){this.isPlainObject(t)||(t=Object.getPrototypeOf(t)||t),this.isPlainObject(e)||(e=Object.getPrototypeOf(e)||e),Object.getOwnPropertyNames(t).forEach((i=>{const o=Object.getOwnPropertyDescriptor(t,i),n=Object.getOwnPropertyDescriptor(e,i);n?(Object.defineProperty(e,this.getOriginalName(i),n),o.hasOwnProperty("get")&&o.get&&(n.get=o.get),o.hasOwnProperty("set")&&o.set&&(n.set=o.set),o.hasOwnProperty("value")&&(n.value=o.value),Object.defineProperty(e,i,n)):Object.defineProperty(e,i,o)}))}}class r{static isString(e){return"string"==typeof e||e instanceof String}static trimStart(e,t){t||(t=" ");for(var i=0;e.charAt(i)===t;)i++;return e.substring(i)}static trimEnd(e,t){t||(t=" ");for(var i=e.length-1;e.charAt(i)===t;)i--;return e.substring(0,i+1)}static trim(e,t){return e=this.trimStart(e,t),e=this.trimEnd(e,t)}static removeWhiteSpace(e){return e.replace(/\s+/g,"")}static uniqueIdCounter=Math.floor(8999*Math.random()+1e3);static createUniqueId(){var e=""+this.uniqueIdCounter++,t="0000000",i=t.substring(0,7-e.length)+e;return(new Date).getTime()+i}}class s{static emptyFn=function(){};static isFunction(e){return"function"==typeof e||e instanceof Function}static throttle(e,t,i,o){var n,r,s,a=null,l=0;o||(o={});var c=function(){l=!1===o.leading?0:+new Date,a=null,s=e.apply(n,r),a||(n=r=null)};return function(){var d=+new Date;l||!1!==o.leading||(l=d);var p=t-(d-l);return n=i||this,r=arguments,p<=0||p>t?(clearTimeout(a),a=null,l=d,s=e.apply(n,r),a||(n=r=null)):a||!1===o.trailing||(a=setTimeout(c,p)),s}}static getFromString(e,t){for(var i=e.split("."),o=i.pop(),n=t||window,r=0;r<i.length;r++){var s=i[r];if(!(n=n[s]))throw`Could not find a function from string '${e}', namespace '${s}' is not found.`}var a=n[o];if(!this.isFunction(a))throw`Could not find a function from string '${e}', function '${o}' is not found.`;return a.bind(n)}}class a{static backSlash="\\";static forwardSlash="/";static getDirectoryName(e,t){return t||(t=this.forwardSlash),(e=r.trimEnd(e,t)).substring(0,e.lastIndexOf(t))}static getFileName(e,t){return t||(t=this.forwardSlash),e.substring(e.lastIndexOf(t)+1)}static getExtension(e,t,i){const o=this.getFileName(e,i);for(var n="",r=o.length,s=r;--s>=1;)if("."==o.charAt(s)){n=s!=r-1?o.substring(s):"";break}return t?0===n.length?"":n.substring(1):n}static getFileNameWithoutExtension(e,t){const i=this.getFileName(e,t);var o=this.getExtension(i);return i.substring(0,i.length-o.length)}static combine(e,t,i){return i||(i=this.forwardSlash),0===e.length?t:(e=r.trimEnd(e,i))+i+(t=r.trimStart(t,i))}}class l{static byteUnits=["Bytes","KB","MB","GB","TB"];static formatByteSize(e){if(null==e)return null;e=+e;for(var t=0,i=this.byteUnits.length-1;e>=1e3&&t<i;)e/=1024,t++;return this.roundWithDecimalPlaceCount(e,this.getDecimalPlaceCount(e,3))+" "+this.byteUnits[t]}static getDecimalPlaceCount(e,t){for(var i=e.toString(),o=0,n=0,r=!1,s=0,a=i.length;s<a;s++){if("."==i.charAt(s)&&(r=!0),r&&n++,++o==t)break}return n}static roundWithDecimalPlaceCount(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}}class c{static isDisplayed(e){return""===e.style.display}static toggleDisplay(e,t){"uiPermission"in e&&!e.uiPermission||(t?e.style.setProperty("display",""):e.style.setProperty("display","none","important"))}static toggleDisplayPermission(e,t){delete e.uiPermission,this.toggleDisplay(e,t),e.uiPermission=t}static isVisible(e){return""===e.style.visibility}static toggleVisibility(e,t){t?e.style.setProperty("visibility",""):e.style.setProperty("visibility","hidden","important")}static anyChildElement(e,t){for(const i of e.children)if(t(i))return!0;return!1}static anyPreviousElementSibling(e,t,i){for(;e=e.previousElementSibling;){if(i(e))return!1;if(t(e))return!0}return!1}static anyNextElementSibling(e,t,i){for(;e=e.nextElementSibling;){if(i(e))return!1;if(t(e))return!0}return!1}static convertHexToRgba(e,t){var i,o,n,r,s=e.replace("#",""),a=s.length;if(3!=a&&4!=a&&6!==a&&8!=a)throw new Error("Value of '"+e+"' is not valid for 'html color hex code'.");switch(a){case 3:i=s[0]+s[0],o=s[1]+s[1],n=s[2]+s[2],r="ff";break;case 4:i=s[0]+s[0],o=s[1]+s[1],n=s[2]+s[2],r=s[3]+s[3];break;case 6:i=s[0]+s[1],o=s[2]+s[3],n=s[4]+s[5],r="ff";break;case 8:i=s[0]+s[1],o=s[2]+s[3],n=s[4]+s[5],r=s[6]+s[7]}return"rgba("+[i=+("0x"+i),o=+("0x"+o),n=+("0x"+n),r=255==(r=+("0x"+r))&&void 0!==t?t:+parseFloat(r/255).toFixed(2)].join(", ")+")"}static fragmentFromHtml(e){var t=document.createElement("template");return t.innerHTML=e,t.content}static#e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};static#t;static#i;static#o;static#n(){this.#t=Object.fromEntries(Object.entries(this.#e).map((e=>e.reverse()))),this.#i=new RegExp("["+Object.keys(this.#e).join("")+"]","g"),this.#o=new RegExp("("+Object.keys(this.#t).join("|")+"|&#[0-9]{1,5};)","g")}static htmlEncode(e){return this.#i||this.#n(),e?String(e).replace(this.#i,((e,t)=>this.#e[e])):e}static htmlDecode(e){return this.#o||this.#n(),e?String(e).replace(this.#o,((e,t)=>t in this.#t?this.#t[t]:String.fromCharCode(parseInt(t.substr(2),10)))):e}}class d{static winScopes=new WeakMap;static getWinScope(e){let t=this.winScopes.get(e);return t||(t={},this.winScopes.set(e,t)),t}static registerColorSchemeChangeEvent(e,t,i){if(e.matchMedia){var o=this.getWinScope(e);o.mqlLightMode=o.mqlLightMode||e.matchMedia("(prefers-color-scheme: light)"),o.mqlDarkMode=o.mqlDarkMode||e.matchMedia("(prefers-color-scheme: dark)"),o.eventTarget=o.eventTarget||new d.EventTarget,o.eventTarget.addEventListener("colorSchemeChange",t,i),o.mqlLightModeOnChange=o.mqlLightModeOnChange||function(e){e.matches&&o.eventTarget.dispatchEvent({type:"colorSchemeChange",colorScheme:"light",matches:e.matches,media:e.media})},o.mqlDarkModeOnChange=o.mqlDarkModeOnChange||function(e){e.matches&&o.eventTarget.dispatchEvent({type:"colorSchemeChange",colorScheme:"dark",matches:e.matches,media:e.media})},o.mqlLightMode.addEventListener("change",o.mqlLightModeOnChange),o.mqlDarkMode.addEventListener("change",o.mqlDarkModeOnChange),o.mqlLightMode.matches&&t.call(i,{type:"colorSchemeChange",colorScheme:"light",matches:!0,media:o.mqlLightMode.media,immediate:!0}),o.mqlDarkMode.matches&&t.call(i,{type:"colorSchemeChange",colorScheme:"dark",matches:!0,media:o.mqlDarkMode.media,immediate:!0})}}static unregisterColorSchemeChangeEvent(e,t,i){var o=this.getWinScope(e);o.eventTarget&&o.eventTarget.removeEventListener("colorSchemeChange",t,i)}static registerScreenSizeChangeEvent(e,t,i){if((e=e.top).matchMedia){var o=this.getWinScope(e);o.mqlPhoneSize=o.mqlPhoneSize||e.matchMedia("screen and (max-width: 743px)"),o.mqlTabletSize=o.mqlTabletSize||e.matchMedia("screen and (min-width: 744px) and (max-width: 1032px)"),o.mqlDesktopSize=o.mqlDesktopSize||e.matchMedia("screen and (min-width: 1033px)"),o.eventTarget=o.eventTarget||new d.EventTarget,o.eventTarget.addEventListener("screenSizeChange",t,i),o.mqlPhoneSizeOnChange=o.mqlPhoneSizeOnChange||function(e){e.matches&&o.eventTarget.dispatchEvent({type:"screenSizeChange",screenSize:"phoneSize",matches:e.matches,media:e.media})},o.mqlTabletSizeOnChange=o.mqlTabletSizeOnChange||function(e){e.matches&&o.eventTarget.dispatchEvent({type:"screenSizeChange",screenSize:"tabletSize",matches:e.matches,media:e.media})},o.mqlDesktopSizeOnChange=o.mqlDesktopSizeOnChange||function(e){e.matches&&o.eventTarget.dispatchEvent({type:"screenSizeChange",screenSize:"desktopSize",matches:e.matches,media:e.media})},o.mqlPhoneSize.addEventListener("change",o.mqlPhoneSizeOnChange),o.mqlTabletSize.addEventListener("change",o.mqlTabletSizeOnChange),o.mqlDesktopSize.addEventListener("change",o.mqlDesktopSizeOnChange),o.mqlPhoneSize.matches&&t.call(i,{type:"screenSizeChange",screenSize:"phoneSize",matches:!0,media:o.mqlPhoneSize.media,immediate:!0}),o.mqlTabletSize.matches&&t.call(i,{type:"screenSizeChange",screenSize:"tabletSize",matches:!0,media:o.mqlTabletSize.media,immediate:!0}),o.mqlDesktopSize.matches&&t.call(i,{type:"screenSizeChange",screenSize:"desktopSize",matches:!0,media:o.mqlDesktopSize.media,immediate:!0})}}static unregisterScreenSizeChangeEvent(e,t,i){e=e.top;var o=this.getWinScope(e);o.eventTarget&&o.eventTarget.removeEventListener("screenSizeChange",t,i)}static EventTarget=class{listeners=[];addEventListener(e,t,i){for(var o=0;o<this.listeners.length;o++){var n=this.listeners[o];if(n.type===e&&n.fn===t&&n.scope===i)return}this.listeners.push({type:e,fn:t,scope:i})}removeEventListener(e,t,i){for(var o=this.listeners.length-1;o>=0;o--){var n=this.listeners[o];if(n.type===e&&n.fn===t&&n.scope===i)return void this.listeners.splice(o,1)}}dispatchEvent(e){e=this.createEvent(e);for(var t=0;t<this.listeners.length;t++){var i=this.listeners[t];i.type===e.type&&("target"in e||(e.target=this),i.fn.call(i.scope,e))}}createEvent(e){if(!Event.constructor)return e;if(e instanceof Event)return e;var t=new Event(e.type);for(var i in e)e.hasOwnProperty(i)&&!(i in t)&&(t[i]=e[i]);return t}};static findStyleSheet(e,t){if(!e)return null;for(let i=0;i<e.styleSheets.length;i++){let o=e.styleSheets[i];if(t(o))return o}return null}static deleteCssRules(e,t){for(let i=0;i<e.cssRules.length;i++){t(e.cssRules[i])&&(e.deleteRule(i),i--)}}}var p=i(646),h=i.n(p);class m{static#r={key:"",owner:"",date:"",product:"",type:"",version:""};static validate(e){try{if(!n.isObject(e))throw"'license' should be an object with properties";var t=m._getNormalized(e),i=m._getHashData(t);if(!t.key)throw"'key' property is missing";var o=h().validateLicense(i,t.key);return 0!=o.errorCode?m.#s(o):{success:!0,normalizedLicense:t}}catch(e){return r.isString(e)&&(e=new Error(e)),m.#s(e)}}static#s(e){return{success:!1,message:1006==e.errorCode?"License is not valid":"License is not valid: "+e.message}}static _getNormalized(e){return{key:e.key?r.removeWhiteSpace(e.key):"",owner:e.owner?e.owner.trim():"",date:e.date?e.date.trim():"",product:e.product?e.product.trim():"",type:e.type?e.type.trim():"",version:e.version?e.version.trim():""}}static _getHashData(e){return{info:{owner:e.owner.toLowerCase(),date:e.date,type:e.type.toLowerCase()},prodCode:e.product.toLowerCase(),appVersion:e.version}}}const u={product:"PdfJsKit",productUrl:"https://www.pdfjskit.com",productUpgradeUrl:"https://www.pdfjskit.com/upgrade",version:"2.4.8",licenseVersion:"1.0",pdfjsVersion:"5.4.149"},g={PDFViewerApplication:{async run(e){this.onBeforeRun&&this.onBeforeRun(e),await this.run_original(e),this.onAfterRun&&this.onAfterRun(e)},async open(e,t){return this.parentPdfViewer.lastOpenArgs=e,this.parentPdfViewer.loadingAttachmentTreeNode=t,this.parentPdfViewer.frameApp.loadingBar.percent=10,this.parentPdfViewer.frameApp.loadingBar.show(),e.url&&(e.url=this._normalizeUrl(e.url)),this.open_original(e).then((()=>{this.parentPdfViewer._selectAttachmentTreeNode(t)})).catch((()=>{delete this.parentPdfViewer.loadingAttachmentTreeNode,this.parentPdfViewer.frameApp.loadingBar.hide()}))},get _docFilename(){return this.parentPdfViewer.lastOpenArgs?.filename||this.parentPdfViewer.lastOpenArgs?.originalUrl||this._docFilename_original},_normalizeUrl(e){if(e instanceof URL)return e.href;const t=window.parent;try{return new URL(e,t.location).href}catch{return e}},async _documentError(e,t=null){this._unblockDocumentLoadEvent();const i=await this.l10n.get(e||"pdfjs-loading-error");this.eventBus.dispatch("documenterror",{source:this,message:i,reason:t?.message??null,isResponseError:"pdfjs-unexpected-response-error"===e})},rotatePages(e){this.parentPdfViewer.rotatePages(e)},async download(){if(this.parentPdfViewer.options.permissions.save)return this.download_original()},async save(){if(this.parentPdfViewer.options.permissions.save)return this.save_original()},async downloadOrSave(){if(this.parentPdfViewer.options.permissions.save)return this.downloadOrSave_original()},triggerPrinting(){this.parentPdfViewer.options.permissions.print&&this.triggerPrinting_original()},beforePrint(){this.parentPdfViewer.options.permissions.print&&this.beforePrint_original()},requestPresentationMode(){this.parentPdfViewer.options.permissions.goPresentationMode&&this.requestPresentationMode_original()}},PDFViewer:{set currentPageNumber(e){this.parentPdfViewer.options.permissions.navigatePages&&(this.currentPageNumber_original=e)},set currentScaleValue(e){let t=parseFloat(e);if(t>0){if(1!==t&&!this.parentPdfViewer.options.permissions.zoom)return}else if("auto"!==e&&!this.parentPdfViewer.options.permissions.changeZoomMode)return;this.currentScaleValue_original=e},set currentScale(e){(1===e||this.parentPdfViewer.options.permissions.zoom)&&(this.currentScale_original=e)},updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:o}){this.parentPdfViewer.options.permissions.zoom&&this.updateScale_original.apply(this,arguments)}},PDFAttachmentViewer:{_createAttachmentTreeNodes(e,t){var i=[],o={};for(const g in e){const f=e[g];var n=i,r=f.rawFilename.split("/");if(1==r.length){var s=g.match(/^<([0-9])+>/);s&&"0"!=s[1]&&(r=["Subfolder "+s[1],f.filename])}if(r.length>1)for(var a=0;a<r.length-1;a++){var c=r.slice(0,a+1).join("/"),d=o[c];d||(d={title:r[a],expanded:!0,folder:!0,children:[]},o[c]=d,n.push(d)),n=d.children}var p=r[r.length-1],h=l.formatByteSize(f.content?.length),m=p;h&&(m+="\nSize: "+h),f.description&&(m+="\nDescription: "+f.description);var u={title:p,tooltip:m,attachmentKey:g,attachmentKeyPath:t.isRoot?g:t.attachmentKeyPath+"|"+g,attachmentNamePath:t.isRoot?f.filename:t.attachmentNamePath+"|"+f.filename,attachmentRawNamePath:t.isRoot?f.rawFilename:t.attachmentRawNamePath+"|"+f.rawFilename,attachmentData:f};n.push(u)}return i},render({attachments:e,keepRenderedCapability:t=!1}){this.renderedAttachments||(this.renderedAttachments={}),this.treeNodeMap||(this.treeNodeMap=new WeakMap);var i,o,n=this.parentPdfViewer.loadingAttachmentTreeNode;if(delete this.parentPdfViewer.loadingAttachmentTreeNode,n?i=n:(t&&(i=this.treeNodeMap.get(this._currentTreeItem)),i||(this._attachments&&this.reset(t),i={attachmentKey:"",attachmentKeyPath:"",attachmentNamePath:"",attachmentRawNamePath:"",isRoot:!0,title:this.parentPdfViewer._getCustomTranslation("cover-sheet"),expanded:!0,active:!0,children:[],attachmentData:{filename:this.parentPdfViewer.frameApp._docFilename}},this.renderedAttachments={},o=!0)),this._attachments={},!e)return n&&this.parentPdfViewer.frameApp.pdfSidebar.freezeAttachmentsView(),void this._dispatchEvent(0).then((()=>this.parentPdfViewer.frameApp.pdfSidebar.unfreezeAttachmentsView()));var r=this._createAttachmentTreeNodes(e,i);o&&(i.children=r,r=[i]);const s=document.createDocumentFragment(),a=[{parent:s,items:r}];let l=0,c=!1;for(;a.length>0;){const e=a.shift();for(const t of e.items){if(this.renderedAttachments[t.attachmentKeyPath])continue;const i=document.createElement("div");i.className="treeItem",t.active&&this._updateCurrentTreeItem(i);const o=document.createElement("a");if(t.tooltip&&(o.title=t.tooltip),o.textContent=this._normalizeTextContent(t.title),t.folder||(o.onclick=e=>{var i=this.treeNodeMap.get(this._currentTreeItem);return this.parentPdfViewer._onAttachmentClick(t,i),!1}),i.append(o),t.element=i,this.treeNodeMap.set(i,t),t.children&&t.children.length>0){c=!0,this._addToggleButton(i);const e=document.createElement("div");e.className="treeItems",i.append(e),a.push({parent:e,items:t.children})}e.parent.append(i),t.attachmentKeyPath&&l++,this.renderedAttachments[t.attachmentKeyPath]=!0}}if(o)this._finishRendering(s,l,c);else{if(0==l)return;i.element.querySelector(".treeItemToggler")||this._addToggleButton(i.element);var d=i.element.querySelector(".treeItems");d||((d=document.createElement("div")).className="treeItems",i.element.append(d)),d.append(s),this.container.classList.add("treeWithDeepNesting")}},reset(){this.parentPdfViewer.loadingAttachmentTreeNode||this.reset_original.apply(this,arguments)}},PDFSidebar:{setInitialView(e=0){this.parentPdfViewer.loadingAttachmentTreeNode&&this.freezeAttachmentsView(),this.setInitialView_original.apply(this,arguments),this.unfreezeAttachmentsView()},reset(){this.parentPdfViewer.loadingAttachmentTreeNode&&this.freezeAttachmentsView(),this.reset_original.apply(this,arguments),this.unfreezeAttachmentsView()},freezeAttachmentsView(){this.freezed=[this.switchView,this.attachmentsButton],this.switchView=()=>{},this.attachmentsButton={}},unfreezeAttachmentsView(){this.freezed&&(this.switchView=this.freezed[0],this.attachmentsButton=this.freezed[1],delete this.freezed)}},PDFFindController:{setDocument(e){this.setDocument_original.apply(this,arguments),e&&this.parentPdfViewer.options.searchOptions.term&&this.parentPdfViewer.frameApp.findBar.dispatchEvent("")},scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:o=-1}){if(!this._scrollMatches||!e)return;if(-1===o||o!==this._selected.matchIdx)return;if(-1===i||i!==this._selected.pageIdx)return;this._scrollMatches=!1;const n={top:-1*(this.parentPdfViewer.frameApp.appConfig.findBar.bar.offsetHeight||104)-8,left:t+-400};this.scrollIntoView(e,n,!0)},scrollIntoView(e,t,i=!1){let o=e.offsetParent;if(!o)return void console.error("offsetParent is not set -- cannot scroll");let n=e.offsetTop+e.clientTop,r=e.offsetLeft+e.clientLeft;for(;o.clientHeight===o.scrollHeight&&o.clientWidth===o.scrollWidth||i&&(o.classList.contains("markedContent")||"hidden"===getComputedStyle(o).overflow);)if(n+=o.offsetTop,r+=o.offsetLeft,o=o.offsetParent,!o)return;if(t&&(void 0!==t.top&&(n+=t.top),void 0!==t.left)){if(i){const i=e.getBoundingClientRect().width,n=(s=(o.clientWidth-i)/2,a=20,l=400,Math.min(Math.max(s,a),l));r+=t.left-n}else r+=t.left;o.scrollLeft=r}var s,a,l;o.scrollTop=n}},PDFFindBar:{dispatchEvent(e,t=!1){this.findAnyWordCheckbox||(this.findAnyWordCheckbox=this.parentPdfViewer.frameApp.appConfig.customUI.anyWordCheckbox,this.findAnyWordCheckbox.addEventListener("click",(()=>{this.dispatchEvent("anywordchange")})));let i=this.findAnyWordCheckbox.checked?this.splitPhrases(this.findField.value):this.findField.value;this.eventBus.dispatch("find",{source:this,type:e,query:i,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:t,matchDiacritics:this.matchDiacritics.checked})},splitPhrases(e){let t=e.match(/"+[^"]+"+|[^\s]+/g)??[];return t=t.map((e=>e.replace(/"(.+)"/,"$1"))),t.length>1&&t.push(e.replace(/"(.+)"/,"$1")),t},updateUIState(e,t,i){this.updateUIState_original.apply(this,arguments),this.fixDialogHeight()},updateResultsCount({current:e=0,total:t=0}={}){this.updateResultsCount_original.apply(this,arguments),this.fixDialogHeight()},fixDialogHeight(){this.findResultsCount.hasAttribute("data-l10n-id")||this.findMsg.hasAttribute("data-l10n-id")?this.findMsg.parentElement.style.setProperty("display","inline-flex"):this.findMsg.parentElement.style.setProperty("display","none")}},ProgressBar:{setWidth(e){},show(){this.show_original();const e=this.parentPdfViewer.frameDocument.getElementById("loadingBar"),t=this.parentPdfViewer.frameApp.appConfig.mainContainer,i=t.offsetWidth-t.clientWidth+this.parentPdfViewer.frameApp.appConfig.customUI.toolbarVertical.offsetWidth;e.style.setProperty("--progressBar-end-offset",`${i}px`);const o=t.offsetHeight-t.clientHeight,n=this.parentPdfViewer.frameApp.appConfig.sidebar.outerContainer.classList.contains("toolbarAtBottom")?-1*(o+e.offsetHeight):this.parentPdfViewer.frameApp.appConfig.customUI.toolbar.offsetHeight;e.style.setProperty("top",`${n}px`)}}},f="[a-fA-F\\d:]",b=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${f})|(?<=${f})(?=\\s|$))`:"",y="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",v="[a-fA-F\\d]{1,4}",w=`\n(?:\n(?:${v}:){7}(?:${v}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v}:){6}(?:${y}|:${v}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v}:){5}(?::${y}|(?::${v}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v}:){4}(?:(?::${v}){0,1}:${y}|(?::${v}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v}:){3}(?:(?::${v}){0,2}:${y}|(?::${v}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v}:){2}(?:(?::${v}){0,3}:${y}|(?::${v}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v}:){1}(?:(?::${v}){0,4}:${y}|(?::${v}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v}){0,5}:${y}|(?::${v}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),S=new RegExp(`(?:^${y}$)|(?:^${w}$)`),A=new RegExp(`^${y}$`),E=new RegExp(`^${w}$`),P=e=>e&&e.exact?S:new RegExp(`(?:${b(e)}${y}${b(e)})|(?:${b(e)}${w}${b(e)})`,"g");P.v4=e=>e&&e.exact?A:new RegExp(`${b(e)}${y}${b(e)}`,"g"),P.v6=e=>e&&e.exact?E:new RegExp(`${b(e)}${w}${b(e)}`,"g");const T=P;const{toString:C}=Object.prototype;const D={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function M(e,t={}){if(i=e,"[object RegExp]"!==C.call(i))throw new TypeError("Expected a RegExp instance");var i;const o=Object.keys(D).map((i=>("boolean"==typeof t[i]?t[i]:e[i])?D[i]:"")).join(""),n=new RegExp(t.source||e.source,o);return n.lastIndex="number"==typeof t.lastIndex?t.lastIndex:e.lastIndex,n}function O(e,t,{timeout:i}={}){try{return function(e){const t=(...t)=>e(...t);return Object.defineProperty(t,"name",{value:`functionTimeout(${e.name||"<anonymous>"})`,configurable:!0}),t}((()=>M(e).test(t)))()}catch(e){throw e}}const B=45,k={timeout:400};const L={...u},I=document.currentScript&&document.currentScript.src?new URL(document.currentScript.src).pathname:null;class V extends EventTarget{static defaultOptions={id:"pdfViewer",hidden:!1,width:960,height:720,border:!0,resizable:!0,libraryPath:null,language:navigator.language||"en-US",license:null,documentUrl:"",documentData:null,documentPassword:null,documentSize:null,zoomMode:"",scrollMode:"unknown",spreadMode:"unknown",sidebarView:"unknown",cursorTool:"select",rotationMode:"all-pages",rememberViewHistory:!0,toolbarVisible:!0,sidebarVisible:!0,verticalToolbarVisible:!0,toolbarAtBottom:!1,theme:"slate, classic-dark",mobileMode:"on-any",debugMode:!1,events:{loaded:null,failed:null,documentLoaded:null,pageChanged:null,pageRendered:null,rotationChanged:null,downloading:null,printing:null,printed:null,textSelected:null,textCopied:null},permissions:{viewThumbnails:!0,viewOutlines:!0,viewAttachments:!0,viewLayers:!0,navigatePages:!0,zoom:!0,changeZoomMode:!0,find:!0,downloadOriginal:!1,save:!0,print:!0,open:!0,goFullScreen:!0,goPresentationMode:!0,viewProperties:!0,selectText:!0,pan:!0,rotate:!0,changeScrollMode:!0,changeSpreadMode:!0,viewAnnotations:!0,editAnnotations:!0,fillForms:!0,editComments:!1},searchOptions:{term:"",matchCase:!1,matchDiacritics:!1,matchWholeWord:!1,matchAnyWord:!1,highlightColor:"#FFFF00",activeHighlightColor:"#FFA500",highlightAll:!0},printOptions:{resolution:150,autoRotate:!0},translations:{en:{"preparing-document":"Preparing document...","cover-sheet":"Cover Sheet","rotation-mode":"Rotation Mode","rotation-mode-title":"Rotation Mode (rotate current page or all pages)","full-screen":"Full Screen","download-original":"Download Original","any-word":"Any Word"}}};static#a={};static#l='javascript:""';static#c='\n        <svg width="48" height="48" fill="#0389ff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <style>.spinner_ajPY{transform-origin:center;animation:spinner_AtaB .75s infinite linear}@keyframes spinner_AtaB{100%{transform:rotate(360deg)}}</style>\n          <path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path>\n          <path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path>\n        </svg>';static#d="\n        Viewer cannot be loaded when you load the HTML file locally (i.e. with a file:// URL).\n        This causes CORS errors due to JavaScript module (.mjs) security requirements of the browser.\n        You need to run through a local or remote web server (i.e. with a http:// or https:// URL).";static#p="\n        Viewer cannot be loaded because the iframe and the iframe's parent document are not \"Same Origin\".\n        If you did set a custom libraryPath, ensure it is same origin as this host page\n        or adjust your server's CORS settings to allow cross-domain access.";static#h=["42U44-A8W3U-0TG5A-66C4F-3AA0E-776A0"];static#m=null;#u=null;get libraryPath(){return this.#u??(this.#u=this.options.libraryPath??(I?a.getDirectoryName(I):"pdfjskit"))}options=null;uid=r.createUniqueId();frameElement=null;frameWindow=null;frameDocument=null;frameApp=null;frameAppOptions=null;frameAppConstants=null;#g="";#f=null;#b=0;#y="";#v="";#w=!1;#S="";#A="";#E=null;#P=null;#T=null;#C=null;constructor(e){super(),this.options=n.merge(e,V.defaultOptions,{clone:!0});var t=V.#a[this.options.id];t?t++:t=1,V.#a[this.options.id]=t,t>1&&(this.options.id+=t),Object.keys(this.options.events).forEach((e=>{var t=this.options.events[e];r.isString(t)&&(t=s.getFromString(t)),s.isFunction(t)&&this.addEventListener(e,t)})),this.#g=a.combine(this.libraryPath,"pdfjs/web/viewer.html"),this.language=this.options.language,this.license=this.options.license}get zoomMode(){return this.#D(this.frameApp.pdfViewer.currentScaleValue)}set zoomMode(e){this.frameApp.pdfViewer.currentScaleValue=this.#M(e)??e}get scrollMode(){return this.#O(this.frameApp.pdfViewer.scrollMode)}set scrollMode(e){this.frameApp.pdfViewer.scrollMode=this.#B(e)??e}get spreadMode(){return this.#k(this.frameApp.pdfViewer.spreadMode)}set spreadMode(e){this.frameApp.pdfViewer.spreadMode=this.#L(e)??e}get sidebarView(){return this.#I(this.frameApp.pdfSidebar.visibleView)}set sidebarView(e){this.frameApp.pdfSidebar.switchView(this.#V(e)??e,!0)}get cursorTool(){return this.#R(this.frameApp.pdfCursorTools.activeTool)}set cursorTool(e){this.frameApp.pdfCursorTools.switchTool(this.#x(e)??e)}get rotationMode(){return this.#_(this.#b)}set rotationMode(e){const t=this.#z(e);if(void 0===t)throw new Error(`Invalid page rotation mode: ${e}`);this.#b=t}get pagesCount(){return this.frameApp.pdfViewer.pagesCount}get page(){return this.frameApp.pdfViewer.currentPageNumber}set page(e){this.frameApp.pdfViewer.currentPageNumber=e}get pagesRotation(){return this.frameApp.pdfViewer.pagesRotation}set pagesRotation(e){this.options.permissions.rotate&&(this.frameApp.pdfViewer.pagesRotation=e)}get pageRotation(){var e=this.frameApp.pdfViewer.currentPageNumber-1,t=this.frameApp.pdfViewer.getPageView(e);if(t)return t.rotation}set pageRotation(e){if(this.options.permissions.rotate){if(!Number.isInteger(e)||e%90!=0)throw new Error("Invalid pages rotation angle.");(e%=360)<0&&(e+=360);var t=this.frameApp.pdfViewer.currentPageNumber-1,i=this.frameApp.pdfViewer.getPageView(t);if(i&&i.rotation!==e){i.update({rotation:e});var o=this.frameApp.pdfThumbnailViewer.getThumbnail(t);o&&o.update({rotation:e}),this.#N("rotationChanged",{pageRotation:e,pageNumber:this.page}),this.frameApp.forceRendering()}}}get fileName(){return this.frameApp._docFilename}get theme(){let e=this.#y;return this.#v&&(e+=", "+this.#v),e}set theme(e){const t=e.split(",");this.#y=t[0].trim(),this.#v=t.length>1?t[1].trim():"",this._onThemeChange()}get language(){return this.#A}set language(e){const t=e?.trim()||"en-US",i=t.toLowerCase();if(this.#A.toLowerCase()===i)return;const o=Object.keys(this.options.translations),n=o.find((e=>e.trim().toLowerCase()===i))??o.find((e=>e.trim().toLowerCase()===i.split("-")[0]));this.#E=this.options.translations[n],this.#P=this.options.translations.en,this.#A=t,this.frameAppOptions&&this.frameAppOptions.get("localeProperties")?.lang!==t&&this._reloadFrame()}set license(e){const t=e=>{let t=0;for(let i=0,o=e.length;i<o;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}return t};e&&(e.integratedMode?this.#C={integratedMode:t(e.integratedMode)}:this.#C=m.validate(e)),this.frameApp&&this.#U()}get element(){return this.#f?this.#f:document.getElementById(this.options.id)}get productInfo(){return L}render(e,t="beforeend"){var i="number"==typeof this.options.width?this.options.width+"px":this.options.width,o="number"==typeof this.options.height?this.options.height+"px":this.options.height,n=this.options.resizable?"both":"none",r=this.options.resizable?"hidden":"initial",s=this.options.hidden?"none":"block";const a=this.options.hidden?V.#l:this.#g,l=e?(e.ownerDocument||e).defaultView:window;l[this.options.id]=this;let d=null;"file:"===l.location.protocol&&(d=V.#d);const p=d?this._getFrameErrorHtml(d):`\n        <iframe\n          id="${this.options.id}-frame"\n          src="${c.htmlEncode(a)}"\n          style="display: block; width: 100%; height: 100%; border: none"\n          onload="window['${this.options.id}']._onFrameLoad(this)"\n          allow="fullscreen"\n          data-uid="${this.uid}">\n        </iframe>\n        <div\n          id="${this.options.id}-loading-overlay"\n          style="position: absolute; inset:0; background-color: white; display: flex; justify-content: center; align-items: center">\n          ${V.#c}\n        </div>`,h=`\n        <div\n          id="${this.options.id}"\n          style="position: relative; width:${i}; height:${o}; resize: ${n}; overflow: ${r}; display: ${s}">\n          ${p}\n        </div>`;return this.#T||(this.#T=new WeakMap),this.#T.has(l.document)||l.document.addEventListener("webviewerloaded",(e=>{var t=e.detail.source;t.frameElement.dataset.uid===this.uid&&this._onFrameDomReady(t)})),e?(this.#f=c.fragmentFromHtml(h).firstElementChild,e.insertAdjacentElement(t,this.#f),this.#f):h}_getFrameErrorHtml(e){return`\n        <div\n          id="${this.options.id}-error"\n          style="position: absolute; inset:0; background-color: white; display: flex; justify-content: center; align-items: center; border: 1px solid black; color: black">\n          <span>\n            <b>Viewer Error:</b><br/>\n            ${e.replace(/(?!^)\n/g,"<br/>")}\n          </span\n        </div>`}_onFrameLoad(e){const t=e.src===V.#l;if(e.parentElement.querySelector(`#${this.options.id}-error`)?.remove(),t||e.contentDocument||e.insertAdjacentHTML("afterend",this._getFrameErrorHtml(V.#p)),!t&&e.contentDocument&&!CSS.supports("color: light-dark(tan, tan)")){let t=d.findStyleSheet(e.contentDocument,(e=>e.href.endsWith("viewer.css")));t&&d.deleteCssRules(t,(e=>!("CSSSupportsRule"!==e.constructor.name||!e.conditionText?.startsWith("not (color: light-dark"))))}e.parentElement.querySelector(`#${this.options.id}-loading-overlay`).style.display=t?"flex":"none"}show(){const e=this.element;if(e){c.toggleDisplay(e,!0);const t=e.querySelector("iframe");t&&t.src===V.#l&&(t.src=this.#g)}}hide(){const e=this.element;e&&c.toggleDisplay(e,!1)}destroy(){this._onWinScreenSizeChange&&d.unregisterScreenSizeChangeEvent(this.frameWindow,this._onWinScreenSizeChange,this),this._onWinColorSchemeChange&&d.unregisterColorSchemeChangeEvent(this.frameWindow,this._onWinColorSchemeChange,this);const e=this.element;e&&(e.remove(),this.#f=null)}async open(e,t){return this.frameApp.open(e,t)}async close(){return this.frameApp.close()}async save(){return this.frameApp.save()}async saveAsBinary(e){if(this.options.permissions.save){if(!this.frameApp.pdfDocument)throw new Error("No PDF document is opened.");return this.frameApp.pdfDocument.getDownloadInfo().then((async()=>!e&&this.frameApp.pdfDocument.annotationStorage.size>0&&this.frameApp._annotationStorageModified?await this.frameApp.pdfDocument.saveDocument():await this.frameApp.pdfDocument.getData()))}}async saveAsBlob(e){const t=await this.saveAsBinary(e);return new Blob([t],{type:"application/pdf"})}downloadOriginal(){if(!this.options.permissions.downloadOriginal)return;const e=this.lastOpenArgs?.originalFilename??this.fileName;if(this.lastOpenArgs&&this.lastOpenArgs.downloadOriginalUrl)this.#N("downloading",{downloadType:"original",originalDocument:e}),this.#W(this.lastOpenArgs.downloadOriginalUrl,e);else if(this.lastOpenArgs&&this.lastOpenArgs.data){this.#N("downloading",{downloadType:"original",originalDocument:e});const t=this.lastOpenArgs.data,i=this.frameWindow.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));this.#W(i,e),this.frameWindow.URL.revokeObjectURL(i)}else this.frameApp._downloadUrl&&(this.#N("downloading",{downloadType:"original",originalDocument:e}),this.#W(this.frameApp._downloadUrl,e))}rotateCurrentPage(e){this.pageRotation+=e}rotateAllPages(e){this.pagesRotation+=e}rotatePages(e){this.#b==V.#F.CURRENTPAGE?this.rotateCurrentPage(e):this.rotateAllPages(e)}toggleFullScreen(){if(!this.options.permissions.goFullScreen)return;const e=this.frameDocument;if(e.fullscreenElement||e.webkitFullscreenElement)e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen();else{const t=e.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()}}_onLoad(){(this.options.documentData||this.options.documentUrl)&&this.open({data:this.options.documentData,url:this.options.documentUrl,password:this.options.documentPassword,length:this.options.documentSize})}_onDocumentLoad(e){this.#U(),this.#N("documentLoaded",e)}_onError(e){this.#N("failed",e)&&this._showError(e.message,this.options.debugMode?e.reason:null)}_showError(e,t,i={onConfirm:null,autoCloseWaitTime:0,htmlEncode:!0}){const o=this.frameApp.appConfig;let n=o.customUI.errorDialog;const r=this.frameApp.overlayManager;if(!n){this.frameDocument.getElementById("dialogContainer").insertAdjacentHTML("beforeend",'<dialog id="errorDialog">\n            <div class="content">\n              <span class="errorIcon"></span>\n              <span class="errorMessage"></span>\n              <span></span>\n              <textarea name="errorDetails" class="errorDetails toolbarField" rows="5" readonly></textarea>\n            </div>\n            <div class="buttonRow">\n              <button type="button" class="dialogButton okButton" autofocus><span data-l10n-id="pdfjs-password-ok-button">OK</span></button>\n              <button type="button" class="dialogButton cancelButton"><span data-l10n-id="pdfjs-password-cancel-button">Cancel</span><span class="countdown"></span></button>\n            </div>\n          </dialog>'),n=o.customUI.errorDialog=this.frameDocument.getElementById("errorDialog"),n.queue=[],n.querySelectorAll(".dialogButton").forEach((e=>e.addEventListener("click",(e=>{r.close(n),n.confirm&&n.confirm(e.currentTarget.classList.contains("okButton"))})))),n.addEventListener("cancel",(e=>{n.confirm&&n.confirm(!1)})),r.register(n,!0);n.addEventListener("close",(e=>{var t=n.queue.shift();t&&this._showError.apply(this,t)}))}if(r.active===n)return void n.queue.push(arguments);i.htmlEncode?n.querySelector(".errorMessage").textContent=e:n.querySelector(".errorMessage").innerHTML=e;var s=n.querySelector(".errorDetails");s.value=t,s.style.display=t?"":"none",n.querySelector(".cancelButton").style.display=i.onConfirm?"":"none";const a=n.querySelector(".countdown");let l=parseInt(i.autoCloseWaitTime);i.onConfirm&&l?(a.textContent=` (${l})`,n.confirm=e=>{clearInterval(n.autoCloseInterval),delete n.confirm,i.onConfirm(e)},n.autoCloseInterval=setInterval((()=>{l--,a.textContent=` (${l})`,l<=0&&n.confirm(!0)}),1e3)):a.textContent="",r.open(n)}_showPreparing(e){const t=this.frameApp.appConfig;let i=t.customUI.preparingDialog;const o=this.frameApp.overlayManager;i||(this.frameDocument.getElementById("dialogContainer").insertAdjacentHTML("beforeend",'<dialog id="preparingDialog">\n            <div class="content">\n              <span class="preparingIcon"></span>\n              <span class="preparingMessage"></span>\n              <button type="button" autofocus style="height: 0; border:none; padding: 0"></button>\n            </div>\n          </dialog>'),i=t.customUI.preparingDialog=this.frameDocument.getElementById("preparingDialog"),i.addEventListener("keydown",(e=>{"Escape"===e.key&&e.preventDefault()})),o.register(i,!0));o.active!==i&&(i.querySelector(".preparingMessage").textContent=e??this._getCustomTranslation("preparing-document"),o.open(i))}_hidePreparing(){let e=this.frameApp.appConfig.customUI.preparingDialog;const t=this.frameApp.overlayManager;e&&t.active===e&&t.close(e)}_selectAttachmentTreeNode(e){this.frameApp.pdfAttachmentViewer&&e&&this.frameApp.pdfAttachmentViewer?._updateCurrentTreeItem(e.element)}async _onAttachmentClick(e,t){var i=e.attachmentData,o=e===t;if(i.filename.toLowerCase().endsWith(".pdf")){if(o)return;t&&(t.lastOpenArgs=this.lastOpenArgs,delete this.lastOpenArgs,t.isRoot&&(this.frameDocument.getElementById("fileInput").value="")),e.lastOpenArgs?await this.open(e.lastOpenArgs,e):await this.open({data:i.content,filename:i.filename},e)}else{if(!this.options.permissions.save)return;this.#N("downloading",{document:i.filename,downloadType:"attachment"}),await this.frameApp.downloadManager.openOrDownloadData(i.content,i.filename)}}_getCustomTranslation(e){return this.#E?this.#E[e]??this.#P[e]:this.#P[e]}_setToolbars(e){const t=this.frameApp.appConfig;c.toggleDisplayPermission(t.customUI.toolbar,e.toolbarVisible),c.toggleDisplayPermission(t.sidebar.sidebarContainer,e.sidebarVisible),c.toggleDisplayPermission(t.customUI.toolbarVertical,e.verticalToolbarVisible),e.toolbarAtBottom?t.sidebar.outerContainer.classList.add("toolbarAtBottom"):t.sidebar.outerContainer.classList.remove("toolbarAtBottom")}_setPermissions(e){const t=this.frameApp.appConfig;c.toggleDisplayPermission(t.sidebar.thumbnailButton,e.viewThumbnails),c.toggleDisplayPermission(t.sidebar.thumbnailView,e.viewThumbnails),c.toggleDisplayPermission(t.sidebar.outlineButton,e.viewOutlines),c.toggleDisplayPermission(t.sidebar.outlineView,e.viewOutlines),c.toggleDisplayPermission(t.sidebar.currentOutlineItemButton.parentElement,e.viewOutlines),c.toggleDisplayPermission(t.sidebar.attachmentsButton,e.viewAttachments),c.toggleDisplayPermission(t.sidebar.attachmentsView,e.viewAttachments),c.toggleDisplayPermission(t.sidebar.layersButton,e.viewLayers),c.toggleDisplayPermission(t.sidebar.layersView,e.viewLayers),c.toggleDisplayPermission(t.secondaryToolbar.firstPageButton,e.navigatePages),c.toggleDisplayPermission(t.toolbar.previous,e.navigatePages),c.toggleDisplayPermission(t.toolbar.next,e.navigatePages),c.toggleDisplayPermission(t.secondaryToolbar.lastPageButton,e.navigatePages),c.toggleDisplayPermission(t.toolbar.pageNumber.parentElement,e.navigatePages),c.toggleDisplayPermission(t.toolbar.numPages,e.navigatePages),c.toggleDisplayPermission(t.toolbar.zoomOut,e.zoom),c.toggleDisplayPermission(t.toolbar.zoomIn,e.zoom),c.toggleDisplayPermission(t.toolbar.scaleSelect.parentElement,e.changeZoomMode),c.toggleDisplayPermission(t.findBar.bar,e.find),c.toggleDisplayPermission(t.toolbar.download,e.save),c.toggleDisplayPermission(t.secondaryToolbar.downloadButton,e.save),c.toggleDisplayPermission(t.customUI.downloadOriginalButton,e.downloadOriginal),c.toggleDisplayPermission(t.customUI.secondaryDownloadOriginalButton,e.downloadOriginal),c.toggleDisplayPermission(t.toolbar.print,e.print),c.toggleDisplayPermission(t.secondaryToolbar.printButton,e.print),c.toggleDisplayPermission(t.secondaryToolbar.openFileButton,e.open),c.toggleDisplayPermission(t.customUI.fullScreenModeButton,e.goFullScreen),c.toggleDisplayPermission(t.secondaryToolbar.presentationModeButton,e.goPresentationMode),c.toggleDisplayPermission(t.secondaryToolbar.documentPropertiesButton,e.viewProperties),c.toggleDisplayPermission(t.secondaryToolbar.cursorSelectToolButton,e.selectText),c.toggleDisplayPermission(t.secondaryToolbar.cursorHandToolButton,e.pan),c.toggleDisplayPermission(t.toolbar.editorSignatureParamsToolbar,e.editAnnotations),c.toggleDisplayPermission(t.toolbar.editorHighlightParamsToolbar,e.editAnnotations),c.toggleDisplayPermission(t.toolbar.editorFreeTextParamsToolbar,e.editAnnotations),c.toggleDisplayPermission(t.toolbar.editorInkParamsToolbar,e.editAnnotations),c.toggleDisplayPermission(t.toolbar.editorStampParamsToolbar,e.editAnnotations),c.toggleDisplayPermission(t.customUI.pageRotateModeButton,e.rotate),c.toggleDisplayPermission(t.secondaryToolbar.pageRotateCwButton,e.rotate),c.toggleDisplayPermission(t.secondaryToolbar.pageRotateCcwButton,e.rotate),c.toggleDisplayPermission(t.secondaryToolbar.scrollPageButton,e.changeScrollMode),c.toggleDisplayPermission(t.secondaryToolbar.scrollVerticalButton,e.changeScrollMode),c.toggleDisplayPermission(t.secondaryToolbar.scrollHorizontalButton,e.changeScrollMode),c.toggleDisplayPermission(t.secondaryToolbar.scrollWrappedButton,e.changeScrollMode),c.toggleDisplayPermission(t.secondaryToolbar.spreadNoneButton,e.changeSpreadMode),c.toggleDisplayPermission(t.secondaryToolbar.spreadOddButton,e.changeSpreadMode),c.toggleDisplayPermission(t.secondaryToolbar.spreadEvenButton,e.changeSpreadMode),this._cleanUpToolbars()}_setFindbar(e){const t=this.frameApp.appConfig;t.findBar.findField.value=e.term,t.findBar.highlightAllCheckbox.checked=e.highlightAll,t.findBar.caseSensitiveCheckbox.checked=e.matchCase,t.findBar.matchDiacriticsCheckbox.checked=e.matchDiacritics,t.findBar.entireWordCheckbox.checked=e.matchWholeWord,t.customUI.anyWordCheckbox.checked=e.matchAnyWord}_cleanUpToolbars(){const e=this.frameApp.appConfig;V.#$(e.customUI.toolbar),e.sidebar.outerContainer.style.setProperty("--toolbarViewer-height",c.isDisplayed(e.customUI.toolbar)?"":"0"),V.#$(e.customUI.toolbarVertical),e.sidebar.outerContainer.style.setProperty("--toolbarVertical-width",c.isDisplayed(e.customUI.toolbarVertical)?"":"0"),e.sidebar.outerContainer.style.setProperty("--sidebar-width",c.isDisplayed(e.sidebar.sidebarContainer)?"":"0")}static#$(e){let t=!1;const i=[],o=[];let n=null;for(const r of e.children)if(r.classList.contains("verticalToolbarSeparator")||r.classList.contains("horizontalToolbarSeparator"))t?(i.push(r),n=r,t=!1):o.push(r);else{const e=r.getAttribute("aria-controls");if(e){const t=r.ownerDocument.getElementById(e);if(t){if((t.classList.contains("doorHanger")||t.classList.contains("doorHangerRight"))&&this.#$(t),"sidebarContainer"===t.id){const e=c.anyChildElement(t.ownerDocument.getElementById("sidebarContent"),(e=>c.isDisplayed(e)));c.toggleDisplay(t,e)}c.toggleDisplay(r,c.isDisplayed(t))}}"DIV"===r.tagName&&this.#$(r),c.isDisplayed(r)&&(t=!0)}t||null==n||o.push(n);for(const e of i)c.toggleDisplay(e,!0);for(const e of o)c.toggleDisplay(e,!1);const r=c.anyChildElement(e,(e=>c.isDisplayed(e)&&c.isVisible(e)));["Left","Middle","Right"].some((t=>e.id.endsWith(t)))?c.toggleVisibility(e,r):c.toggleDisplay(e,r)}_onThemeChange(){if(!this.frameDocument)return;const e=this.#w&&this.#v?this.#v:this.#y;let t="";switch(e.toLowerCase()){case"classic-light":t="is-light";break;case"classic-dark":t="is-dark";break;default:t=e}const i=this.frameDocument.documentElement.dataset.theme;i!==t&&(i?t?this.frameDocument.documentElement.classList.replace(i,t):this.frameDocument.documentElement.classList.remove(i):t&&this.frameDocument.documentElement.classList.add(t),this.frameDocument.documentElement.dataset.theme=t)}_onScreenSizeChange(){if(!this.frameDocument)return;let e=!1;switch(V.#j(this.options.mobileMode)){case"ONANY":e="phoneSize"===this.#S||"tabletSize"===this.#S;break;case"ONPHONE":e="phoneSize"===this.#S;break;case"ONTABLET":e="tabletSize"===this.#S}e?this.frameDocument.documentElement.classList.add("ui-sizing-lg"):this.frameDocument.documentElement.classList.remove("ui-sizing-lg")}_onFrameDomReady(e){this.frameElement=e.frameElement,this.frameWindow=e,this.frameDocument=e.document,this.frameApp=this.frameWindow.PDFViewerApplication,this.frameAppOptions=this.frameWindow.PDFViewerApplicationOptions,this.frameAppConstants=this.frameWindow.PDFViewerApplicationConstants,this.frameAppOptions.set("disablePreferences",!0),this.frameAppOptions.set("defaultUrl",""),this.frameAppOptions.set("verbosity",0),this.frameAppOptions.set("localeProperties",{lang:this.language}),this.frameAppOptions.set("enableSignatureEditor",!0),this.frameAppOptions.set("viewOnLoad",this.options.rememberViewHistory?0:1),this.frameAppOptions.set("defaultZoomValue",this.#q(this.options.zoomMode)),this.frameAppOptions.set("scrollModeOnLoad",this.#B(this.options.scrollMode)),this.frameAppOptions.set("spreadModeOnLoad",this.#L(this.options.spreadMode)),this.frameAppOptions.set("sidebarViewOnLoad",this.#V(this.options.sidebarView)),this.frameAppOptions.set("cursorToolOnLoad",this.#x(this.options.cursorTool)),this.options.permissions.fillForms&&this.options.permissions.viewAnnotations?this.frameAppOptions.set("annotationMode",V.#H.ENABLE_FORMS):this.options.permissions.viewAnnotations?this.frameAppOptions.set("annotationMode",V.#H.ENABLE):this.frameAppOptions.set("annotationMode",V.#H.DISABLE),this.options.permissions.editAnnotations||this.frameAppOptions.set("annotationEditorMode",V.#K.DISABLE),this.frameAppOptions.set("printResolution",this.options.printOptions.resolution),this.frameAppOptions.set("enablePrintAutoRotate",this.options.printOptions.autoRotate),this.frameAppOptions.set("enableComment",this.options.permissions.editComments),n.override(this.frameApp,g.PDFViewerApplication),this.frameApp.parentPdfViewer=this,this.frameWindow.print_original=this.frameWindow.print,this.frameWindow.print=()=>{this.options.permissions.print&&this.frameWindow.print_original()},this.frameApp.onBeforeRun=e=>{this.frameApp.appConfig=e,this.#G(),this.frameApp.appConfig.mainContainer.style.position=""},this.frameApp.onAfterRun=e=>{const t=this.frameApp._openFileInput;t&&(t.accept="application/pdf",t.addEventListener("click",(e=>{this.options.permissions.open||e.preventDefault()}))),this.frameWindow.addEventListener("dragover",(e=>{this.options.permissions.open||(e.preventDefault(),e.stopPropagation())}),!0),this.frameWindow.addEventListener("drop",(e=>{this.options.permissions.open||(e.preventDefault(),e.stopPropagation())}),!0)},this.frameApp.initializedPromise.then((()=>{this._setToolbars(this.options),this._setPermissions(this.options.permissions),this._setFindbar(this.options.searchOptions),this.frameDocument.documentElement.style.setProperty("--find-highlight-color",c.convertHexToRgba(this.options.searchOptions.highlightColor,.25)),this.frameDocument.documentElement.style.setProperty("--find-highlight-active-color",c.convertHexToRgba(this.options.searchOptions.activeHighlightColor,.25)),this.frameApp.appConfig.mainContainer.style.position="relative",this.rotationMode=this.options.rotationMode,this.frameApp.eventBus.on("documenterror",(e=>this._onError(e))),this.frameApp.eventBus.on("documentloaded",(e=>this._onDocumentLoad(e))),this.frameApp.eventBus.on("pagechanging",(e=>this.#N("pageChanged",e))),this.frameApp.eventBus.on("pagerendered",(e=>this.#N("pageRendered",e))),this.frameApp.eventBus.on("rotationchanging",(e=>this.#N("rotationChanged",e))),this.frameApp.eventBus.on("download",(e=>this.#N("downloading",e))),this.frameApp.eventBus.on("beforeprint",(e=>this.#N("printing",e))),this.frameApp.eventBus.on("afterprint",(e=>this.#N("printed",e))),this.frameDocument.addEventListener("selectionchange",s.throttle((e=>{var t=this.#Z();null!==t&&this.#N("textSelected",{text:t})}),200)),this.frameDocument.addEventListener("copy",(e=>{if(!this.options.permissions.selectText)return e.clipboardData.setData("text/plain","copy is disabled!"),e.preventDefault(),e.stopPropagation(),!1;var t=this.#Z();null!==t&&this.#N("textCopied",{text:t})}),!0),this.options.permissions.selectText||this.frameDocument.styleSheets[0].insertRule(".textLayer { user-select: none !important }",1),n.override(this.frameApp.pdfViewer,g.PDFViewer),this.frameApp.pdfViewer.parentPdfViewer=this,n.override(this.frameApp.pdfAttachmentViewer,g.PDFAttachmentViewer),this.frameApp.pdfAttachmentViewer.parentPdfViewer=this,n.override(this.frameApp.pdfSidebar,g.PDFSidebar),this.frameApp.pdfSidebar.parentPdfViewer=this,n.override(this.frameApp.findController,g.PDFFindController),this.frameApp.findController.parentPdfViewer=this,n.override(this.frameApp.findBar,g.PDFFindBar),this.frameApp.findBar.parentPdfViewer=this,n.override(this.frameApp.loadingBar,g.ProgressBar),this.frameApp.loadingBar.parentPdfViewer=this,this.frameWindow.console.log=()=>{},this.frameWindow.addEventListener("unhandledrejection",(e=>{var t=e.reason;"InvalidPDFException"!==t.name&&"ResponseException"!==t.name&&"PasswordException"!==t.name||e.preventDefault()})),this._onLoad(),this.#N("loaded")}))}_reloadFrame(){const e=this.frameElement??this.element?.querySelector(":scope > iframe");if(!e)return;const t=e.src;e.src=V.#l,e.src=t}#G(){const e=this.frameApp.appConfig;this.frameDocument.head.insertAdjacentHTML("beforeend",'\n        <link rel="stylesheet" href="../../pdfjskit.min.css">\n      '),this.frameDocument.documentElement.classList.add("ui-icons"),this.options.border||this.frameDocument.documentElement.style.setProperty("border","none"),this._onWinScreenSizeChange||(this._onWinScreenSizeChange=e=>{this.#S=e.screenSize,this._onScreenSizeChange()},this._onWinScreenSizeChange=s.throttle(this._onWinScreenSizeChange,25,this,{leading:!1}),d.registerScreenSizeChangeEvent(this.frameWindow,this._onWinScreenSizeChange,this)),this._onWinColorSchemeChange||(this._onWinColorSchemeChange=e=>{this.#w="dark"===e.colorScheme,e.immediate||this._onThemeChange()},d.registerColorSchemeChangeEvent(this.frameWindow,this._onWinColorSchemeChange,this)),this.theme=this.options.theme,this.#X(e),this.#Y(e),this.#J(e),this.#Q(e),this.#ee(e)}#X(e){this.frameDocument.getElementById("toolbarSidebar").classList.add("ui-toolbar","ui-toolbar-vertical")}#Y(e){const t=this.frameDocument.getElementById("toolbarViewer");t.classList.add("ui-toolbar");const i=this.frameDocument.getElementById("toolbarViewerMiddle");i.classList.add("hiddenSmallView"),i.after(this.frameDocument.getElementById("toolbarViewerRight")),e.secondaryToolbar.firstPageButton.classList.remove("labeled"),e.secondaryToolbar.lastPageButton.classList.remove("labeled"),e.toolbar.previous.before(e.secondaryToolbar.firstPageButton),e.toolbar.next.after(e.secondaryToolbar.lastPageButton),e.toolbar.previous.parentElement.querySelector(":scope > .splitToolbarButtonSeparator")?.remove(),e.toolbar.zoomOut.parentElement.querySelector(":scope > .splitToolbarButtonSeparator")?.remove(),e.toolbar.print.before(e.toolbar.download),e.toolbar.download.insertAdjacentHTML("beforebegin",`<button id="downloadOriginal" type="button" tabindex="0" class="toolbarButton hiddenMediumView" title="${this._getCustomTranslation("download-original")}">\n           <span>${this._getCustomTranslation("download-original")}</span>\n         </button>`);const o=this.frameDocument.getElementById("downloadOriginal");o.addEventListener("click",this.downloadOriginal.bind(this)),this.frameDocument.getElementById("editorModeSeparator").before(e.findBar.toggleButton.parentElement),this.#te(e.findBar.toggleButton,e.findBar.bar),this.#te(e.secondaryToolbar.toggleButton,e.secondaryToolbar.toolbar),e.customUI=n.apply(e.customUI,{toolbar:t,downloadOriginalButton:o})}#Q(e){const t=e.secondaryToolbar.toolbar.firstElementChild;t.querySelectorAll(':scope > [class~="visibleMediumView"]').forEach((e=>{for(;e.children.length>0;){const t=e.children[0];t.classList.add("visibleMediumView"),e.before(t)}e.remove()})),e.secondaryToolbar.printButton.before(e.secondaryToolbar.downloadButton),e.secondaryToolbar.openFileButton.after(e.secondaryToolbar.printButton.nextElementSibling),e.secondaryToolbar.printButton.insertAdjacentHTML("afterend",'<div class="horizontalToolbarSeparator visibleMediumView"></div>'),e.secondaryToolbar.downloadButton.insertAdjacentHTML("beforebegin",`<button id="secondaryDownloadOriginal" type="button" tabindex="0" class="toolbarButton labeled visibleMediumView" title="${this._getCustomTranslation("download-original")}">\n           <span>${this._getCustomTranslation("download-original")}</span>\n         </button>`);const i=this.frameDocument.getElementById("secondaryDownloadOriginal");i.addEventListener("click",(e=>{this.downloadOriginal()})),e.secondaryToolbar.presentationModeButton.insertAdjacentHTML("beforebegin",`<button id="fullScreenMode" type="button" tabindex="0" class="toolbarButton labeled" title="${this._getCustomTranslation("full-screen")}">\n           <span>${this._getCustomTranslation("full-screen")}</span>\n         </button>`);const o=this.frameDocument.getElementById("fullScreenMode");o.addEventListener("click",(e=>{this.toggleFullScreen()})),this.frameApp.supportsFullscreen||o.classList.add("hidden"),c.toggleDisplay(e.secondaryToolbar.viewBookmarkButton,!1),c.toggleDisplay(e.secondaryToolbar.imageAltTextSettingsButton,!1),c.toggleDisplay(e.altTextSettingsDialog.dialog,!1),t.querySelectorAll(":scope .horizontalToolbarSeparator ~ .horizontalToolbarSeparator").forEach(((e,t)=>{t>0&&e.remove()})),e.secondaryToolbar.toolbar.addEventListener("click",(e=>{e.target.closest(".toolbarButton")&&this.frameApp.secondaryToolbar.close()})),this.frameWindow.addEventListener("click",(t=>{e.secondaryToolbar.toggleButton.contains(t.target)||e.secondaryToolbar.toolbar.contains(t.target)||this.frameApp.secondaryToolbar.close()})),e.customUI=n.apply(e.customUI,{fullScreenModeButton:o,secondaryDownloadOriginalButton:i})}#J(e){e.principalContainer.insertAdjacentHTML("beforeend",'<div id="toolbarVertical"><div class="ui-toolbar ui-toolbar-vertical"></div></div>');const t=this.frameDocument.getElementById("toolbarVertical"),i=t.firstElementChild,o=[e.secondaryToolbar.cursorSelectToolButton.parentElement,e.toolbar.editorHighlightButton.parentElement.parentElement,[e.secondaryToolbar.pageRotateCwButton,e.secondaryToolbar.pageRotateCcwButton]];o.forEach(((e,t)=>{var n;Array.isArray(e)?(i.insertAdjacentHTML("beforeend",'<div class="toolbarHorizontalGroup"></div>'),n=i.lastElementChild,e.forEach((e=>{e.classList.remove("labeled"),n.appendChild(e)}))):(n=e,i.appendChild(n),n.classList.add("toolbarHorizontalGroup"),n.querySelectorAll(':scope > [class~="labeled"]').forEach((e=>{e.classList.remove("labeled")}))),t<o.length-1&&i.insertAdjacentHTML("beforeend",'<div class="verticalToolbarSeparator"></div>')}));for(const[t,i]of Object.entries(e.toolbar)){if(!t.startsWith("editor")||!t.endsWith("Button"))continue;const o=t.substring(0,t.length-6),n=i,r=e.toolbar[o+"ParamsToolbar"];r&&this.#te(n,r)}e.toolbar.editorStampButton.parentElement.after(e.toolbar.editorCommentButton.parentElement),e.toolbar.editorCommentButton.parentElement.after(e.toolbar.editorSignatureButton.parentElement),e.secondaryToolbar.pageRotateCcwButton.insertAdjacentHTML("afterend",`<button id="pageRotateMode" type="button" tabindex="0" class="toolbarButton" title="${this._getCustomTranslation("rotation-mode-title")}">\n           <span>${this._getCustomTranslation("rotation-mode")}</span>\n         </button>`);const r=this.frameDocument.getElementById("pageRotateMode");r.addEventListener("click",this.#ie.bind(this));[e.secondaryToolbar.scrollPageButton.parentElement,e.secondaryToolbar.spreadNoneButton.parentElement].forEach(((e,t)=>{const o=e.id.substring(0,e.id.length-7);i.insertAdjacentHTML("beforeend",`<div id="${o}Toggle" class="toolbarButtonWithContainer">\n            <button id="${o}ToggleButton" type="button" tabindex="0" class="toolbarButton" aria-expanded="false" aria-haspopup="true" aria-controls="${o}Menu" title="">\n              <span></span>\n            </button>\n            <div id="${o}Menu" class="editorParamsToolbar doorHangerRight menu hidden"></div>\n          </div>`);const n=this.frameDocument.getElementById(`${o}ToggleButton`),r=this.frameDocument.getElementById(`${o}Menu`);r.appendChild(e),e.classList.add("menuContainer"),this.#te(n,r),n.addEventListener("click",(e=>{const t=!n.classList.contains("toggled");this.#oe(n,r,t)})),r.addEventListener("click",(e=>{e.target.closest(".toolbarButton")&&this.#oe(n,r,!1)})),this.frameWindow.addEventListener("click",(e=>{n.contains(e.target)||r.contains(e.target)||this.#oe(n,r,!1)}));const s=o.toLowerCase()+"changed";this.frameApp.initializedPromise.then((()=>{this.frameApp.eventBus.on(s,(e=>{this.#ne(n,r)})),this.#ne(n,r)}))})),e.customUI=n.apply(e.customUI,{toolbarVertical:t,pageRotateModeButton:r})}#ee(e){const t=this.frameDocument.getElementById("findInputContainer"),i=this.frameDocument.getElementById("findbarOptionsTwoContainer"),o=this.frameDocument.getElementById("findbarMessageContainer");t.classList.add("ui-toolbar"),i.classList.add("ui-toolbar"),o.classList.add("ui-toolbar"),t.insertAdjacentElement("beforeend",e.findBar.highlightAllCheckbox.parentElement),i.insertAdjacentElement("afterbegin",e.findBar.caseSensitiveCheckbox.parentElement),i.insertAdjacentHTML("beforeend",`<div class="toggleButton toolbarLabel">\n         <input type="checkbox" id="findAnyWord">\n         <label for="findAnyWord">${this._getCustomTranslation("any-word")}</label>\n       </div>`);const r=this.frameDocument.getElementById("findAnyWord");e.customUI=n.apply(e.customUI,{anyWordCheckbox:r})}#N(e,t){var i={eventName:e};if("loaded"!==e){const e=this.fileName;e&&(i.document=e)}delete(t=Object.assign(i,t)).source;var o=!1;switch(e){case"rotationChanged":t.pageRotation||(t.pageRotation=this.pageRotation),t.pagesRotation||(t.pagesRotation=this.pagesRotation);break;case"downloading":t.downloadType||(t.downloadType="pdf");break;case"printing":case"printed":t.totalPages=this.pagesCount;break;case"failed":o=!0}var n=new CustomEvent(e,{detail:t,cancelable:o});return this.dispatchEvent(n)}#Z(){var e=this.frameDocument.getSelection();return this.frameApp.appConfig.viewerContainer.contains(e.anchorNode)||this.frameApp.appConfig.viewerContainer.contains(e.focusNode)?e.toString():null}#te(e,t){e.addEventListener("click",(()=>{if(!e.classList.contains("toggled")){var i=e.closest(".ui-toolbar"),o=null!=i,n=i?.classList.contains("ui-toolbar-vertical")??!1,r=i?.getBoundingClientRect();t.classList.remove("hidden");var s=e.getBoundingClientRect(),a=t.offsetParent.getBoundingClientRect(),l=o&&n?r.left:s.left,c=o&&n?r.right:s.right,d=o&&!n?r.top:s.top,p=o&&!n?r.bottom:s.bottom,h=o&&n?r.width:s.width,m=o&&!n?r.height:s.height;t.classList.add(o&&n?"ui-toolbar-vertical-menu":"ui-toolbar-menu"),t.style.setProperty("--toggle-btn-left",l-a.left+"px"),t.style.setProperty("--toggle-btn-right",a.right-c+"px"),t.style.setProperty("--toggle-btn-top",d-a.top+"px"),t.style.setProperty("--toggle-btn-bottom",a.bottom-p+"px"),t.style.setProperty("--toggle-btn-width",h+"px"),t.style.setProperty("--toggle-btn-height",m+"px")}}))}#oe(e,t,i){e.classList.toggle("toggled",i),e.setAttribute("aria-expanded",i),t.classList.toggle("hidden",!i)}#ne(e,t){const i=t.querySelector(':scope [class~="toggled"]');if(!i)return;const o=i.id;e.lastCssClass?e.classList.replace(e.lastCssClass,o):e.classList.add(o),e.lastCssClass=o,e.dataset.l10nId=i.dataset.l10nId,this.frameApp.l10n.translate(e)}#ie(e){var t=e.target;t.classList.toggle("toggled"),this.rotationMode=t.classList.contains("toggled")?"currentpage":"allpages"}#W(e,t){const i=this.frameDocument.createElement("a");if(!i.click)throw new Error('DownloadUrl: "a.click()" is not supported.');i.href=e,i.target="_parent","download"in i&&(i.download=t||!0),(this.frameDocument.body||this.frameDocument.documentElement).append(i),i.click(),i.remove()}#U(){const e=this.#re();e&&this._showError(e,null,{htmlEncode:!1})}#re(){const e=`<a href="${u.productUrl}" target="_blank">${u.productUrl}</a>`,t=`<a href="${u.productUpgradeUrl}" target="_blank">${u.productUpgradeUrl}</a>`;if(!this.#C)return`${u.product} is not registered. Please go to ${e} to acquire a license.`;if(49690167===this.#C.integratedMode)return;if(!this.#C.success)return this.#C.message;const i=this.#C.normalizedLicense;if(null==V.#m&&(V.#m=new Map(V.#h.map((e=>[e,!0])))),V.#m.has(i.key))return`This license is disabled, please go to ${e} to acquire a new license.`;if(i.product.toLowerCase()!==u.product.toLowerCase())return`This license is for '${i.product}' and not applicable to this product '${u.product}'.`;var o,n=u.version.trim(),r=u.licenseVersion.trim(),s=i.version;if(s<r)return`\n        This license is not applicable to this product version '${n}', it's for older versions '${s}+'.\n        Please go to ${t} and acquire a new license.\n        You may also be eligible for a free version upgrade.\n      `;if(s>r)return`\n        This license is not applicable to this product version '${n}', it's for newer versions '${s}+'.\n        Please update to a newer version of the product or acquire an old license.\n      `;if("professional"===i.type.toLowerCase()){const e=window.location.hostname;if(!((o=e).length>B)&&O(T({exact:!0}),o,k))return;if(/^localhost$|\.local$|^$/i.test(e))return;var a=i.owner;if(!V.#se(e,a))return`\n          This license type can only be used on '${a}' domain and current host name '${e}' does not match.\n          Please go to ${t} and upgrade to a higher license for being able to use this product on multiple domains.\n        `}}static#se(e,t){return e=e.toLowerCase(),t.startsWith("*.")?e===t.substring(2)||e.endsWith(t.substring(1)):(e=e.replace(/^(?:www(?:[0-9]+)?\.)?/i,""))===t}static#ae={PAGEACTUAL:"page-actual",PAGEWIDTH:"page-width",PAGEHEIGHT:"page-height",PAGEFIT:"page-fit",AUTO:"auto"};static#le={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};static#ce={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};static#de={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};static#pe={SELECT:0,HAND:1};static#F={ALLPAGES:0,CURRENTPAGE:1};static#H={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};static#K={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102};static#j(e){return e?.trim().toUpperCase().replace("-","")}#M(e){let t=parseFloat(e);return t>0?t/100:r.isString(e)?V.#ae[V.#j(e)]:void 0}#q(e){let t=this.#M(e);return!t||r.isString(t)?t:100*t+""}#D(e){let t=parseFloat(e);return t>0?Math.round(100*t):r.isString(e)?e:void 0}#B(e){return r.isString(e)?V.#le[V.#j(e)]:void 0}#O(e){return Object.keys(V.#le).find((t=>V.#le[t]===e))?.toLowerCase()}#L(e){return r.isString(e)?V.#ce[V.#j(e)]:void 0}#k(e){return Object.keys(V.#ce).find((t=>V.#ce[t]===e))?.toLowerCase()}#V(e){return r.isString(e)?V.#de[V.#j(e)]:void 0}#I(e){return Object.keys(V.#de).find((t=>V.#de[t]===e))?.toLowerCase()}#x(e){return r.isString(e)?V.#pe[V.#j(e)]:void 0}#R(e){return Object.keys(V.#pe).find((t=>V.#pe[t]===e))?.toLowerCase()}#z(e){return r.isString(e)?V.#F[V.#j(e)]:void 0}#_(e){return Object.keys(V.#F).find((t=>V.#pe[t]===e))?.toLowerCase()}}var R=o.C3,x=o.bQ,_=o.PP,z=o.ur,N=o.E0,U=o.WP,W=o.H6,F=o.kr,$=o.wr,j=o.Ay;export{R as ByteSizeUtil,x as DomUtil,_ as FunctionUtil,z as ObjectUtil,N as PageUtil,U as PathUtil,W as PdfViewer,F as ProductInfo,$ as StringUtil,j as default};